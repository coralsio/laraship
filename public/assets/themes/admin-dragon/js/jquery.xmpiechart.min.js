!function(t){var e={color:"",percent:50,gradient:!1,gradientColors:[],easing:"swing",speed:1,width:0,height:0,fillWidth:0,outline:!1,outlineColor:"#eff0f4",linkPercent:"",animateOnScroll:!0,update:function(){}};t.fn.xmpiechart=function(i){if(0==this.length)return this;var n={},s=this,l=0,o=0,r=function(){if(n.settings=t.extend({},e,i),s.addClass("xmpiechart"),l=Math.ceil(n.settings.percent*(n.settings.speed/100)),n.settings.outline&&h(),a(),n.settings.animateOnScroll){var o=!1;t(window).bind("scroll",function(){var e=t(this);e.scrollTop()>=s.offset().top-e.height()&&!o&&(o=!0,d())})}else d()},a=function(){var t=document.createElement("canvas");s[0].style.width=n.settings.width+"px",s[0].style.height=n.settings.height+"px",s[0].style.position="relative",t.className="chartLine",t.width=n.settings.width,t.height=n.settings.height,t.style.position="absolute",t.style.zIndex="1",t.style.top="0",t.style.left="0",g(t,0),s[0].appendChild(t)},h=function(){var t=document.createElement("canvas");t.width=n.settings.width,t.height=n.settings.height,t.style.position="absolute",t.style.zIndex="0",t.style.top="0",t.style.left="0",g(t,100,!0),s[0].appendChild(t)},d=function(){""!=n.settings.linkPercent&&s.parent().find(n.settings.linkPercent).html(o+"<span>%</span>"),g(s.find(".chartLine")[0],o),o!=n.settings.percent&&(o+=l,o>n.settings.percent&&(o=n.settings.percent),requestAnimationFrame(d))},g=function(t,e,i){i="undefined"==typeof i?!1:i;var s=t.getContext("2d"),l=n.settings.width,o=n.settings.height,r=(n.settings.width-2*n.settings.fillWidth)/2,a=n.settings.fillWidth,h=Math.PI/2,d=2*Math.PI;if(s.clearRect(0,0,l,o),s.beginPath(),s.arc(l/2,o/2,r,-h,d*e/100-h),s.lineWidth=a,i)s.strokeStyle=n.settings.outlineColor;else if(n.settings.gradient){var g=s.createLinearGradient(0,o/2,l,0),c=n.settings.gradientColors;g.addColorStop(0,c[0]),g.addColorStop(1,c[1]),s.strokeStyle=g}else s.strokeStyle=n.settings.color;s.stroke()};return r(),this}}(jQuery);